syntax = "proto3";

package UsersService

service UsersService {
	rpc AuthUser(VKAuthRequest) returns (VKAuthRequest);
	rpc RenameUser(RenameRequest) returns (RenameResponse);
	rpc VerificateUser(VerificationRequest) returns (VerificationResponse);
}

message VKAuthRequest {
	string vkCode = 1;
}

message VKAuthResponse {
	int32 statusCode = 1;
	optional TokenPair tokens = 2;
}

message TokenPair {
	string accessToken = 1;
	string refreshToken = 2;
}

message RenameRequest {
	string accessToken = 1;
	string newUserName = 2;
}

message RenameResponse {
	int32 statusCode = 1;
}

message VerificationRequest {
	string accessToken = 1;
}

message VerificationResponse {
	int32 statusCode = 1;
	optional int64 userID = 2;
}
